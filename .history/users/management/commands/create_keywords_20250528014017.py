from django.core.management.base import BaseCommand
from users.models import InterestCategory, SuggestedInterest

class Command(BaseCommand):  # ← 이 부분이 꼭 있어야 함!
    help = '카테고리 및 추천 키워드 200개를 DB에 삽입합니다.'

    def handle(self, *args, **kwargs):
        category_map = {
            '음악': ['힙합', '클래식', '재즈', '록', 'K-POP', 'EDM', '피아노', '기타', '드럼', '랩',
                   '발라드', '댄스', '트로트', '국악', '뉴에이지', '레게', '팝송', '싱어송라이터', '뮤지컬', 'OST'],
            '스포츠': ['축구', '야구', '농구', '배드민턴', '탁구', '테니스', '러닝', '헬스', '클라이밍', '요가',
                    '필라테스', '수영', '골프', '스케이트', '스키', '보드', '마라톤', '격투기', '승마', '서핑'],
            '동물': ['강아지', '고양이', '햄스터', '토끼', '거북이', '앵무새', '금붕어', '펭귄', '호랑이', '사자',
                   '기린', '코끼리', '돌고래', '캥거루', '치타', '여우', '판다', '고래', '북극곰', '수달'],
            '영화': ['액션', '코미디', '스릴러', '공포', '로맨스', '애니메이션', '드라마', '판타지', 'SF', '다큐멘터리',
                    '뮤지컬', '느와르', '모험', '범죄', '전쟁', '역사', '스포츠', '패밀리', '미스터리', '시트콤'],
            '게임': ['리그오브레전드', '오버워치', '스타크래프트', '피파', '배틀그라운드', '마인크래프트', '포켓몬', '젤다', '롤플레잉', '보드게임',
                    '모바일게임', '닌텐도', '플레이스테이션', 'XBOX', '퍼즐게임', '전략게임', '리듬게임', '슈팅게임', '레이싱', 'VR게임'],
            '음식': ['김치', '삼겹살', '떡볶이', '치킨', '피자', '파스타', '초밥', '햄버거', '라면', '짜장면',
                   '우동', '스시', '불고기', '순대', '갈비탕', '된장찌개', '스테이크', '샐러드', '빵', '빙수'],
            '여행': ['바다', '산', '계곡', '도시여행', '캠핑', '국내여행', '해외여행', '문화유산', '트레킹', '호캉스',
                   '유럽여행', '일본여행', '중국여행', '동남아', '미국여행', '아프리카', '남미', '기차여행', '자전거여행', '자동차여행'],
            '취미': ['독서', '그림', '사진', '영화감상', '음악감상', '글쓰기', '요리', '뜨개질', '다이어리꾸미기', '코딩',
                   '명상', '정원가꾸기', '악기연주', '자수', '모형조립', '보드게임', '일기쓰기', '수집', '클라이밍', '무용'],
            '동화': ['백설공주', '신데렐라', '헨젤과그레텔', '피터팬', '알라딘', '미녀와야수', '인어공주', '브레멘음악대', '빨간모자', '늑대와일곱염소',
                   '잭과콩나무', '피노키오', '벌거벗은임금님', '성냥팔이소녀', '엄지공주', '이상한나라의앨리스', '금도끼은도끼', '토끼와거북이', '흥부와놀부', '선녀와나무꾼'],
            '학문': ['수학', '과학', '역사', '지리', '물리', '화학', '생물', '철학', '심리학', '경제',
                   '정치', '문학', '예술', '음악이론', '컴퓨터공학', '통계학', '언어학', '교육학', '사회학', '법학']
        }

        for category_name, keywords in category_map.items():
            category, _ = InterestCategory.objects.get_or_create(name=category_name)
            for i, keyword in enumerate(keywords):
                SuggestedInterest.objects.update_or_create(
                    keyword=keyword,
                    category=category,
                    defaults={'display_order': i, 'is_active': True}
                )

        self.stdout.write(self.style.SUCCESS("🎉 키워드 생성 완료"))
